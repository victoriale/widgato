var chatterbox=chatterbox||[];var chatterLayer=chatterLayer||[];chatterbox[chatterbox.length]=function(e){console.log('Chatterbox ID: ',e);var t=location.protocol=='https:'?'https':'http',r=[{min:1200,widget:970,title:'Promoted Stories from the Chatter Network','class':'biggest'},{min:768,widget:970,title:'Promoted Stories from the Chatter Network','class':'bigger'},{min:650,widget:970,title:'Promoted Stories from the Chatter Network','class':'big'},{min:430,widget:970,title:'Promoted Stories','class':'small'},{min:0,widget:250,title:'Promoted Stories','class':'smallest'}],n={250:{url:t+'://w1.synapsys.us/widgets/dynamic_widget/dynamic_widget.html'},970:{url:t+'://w1.synapsys.us/widgets/dynamic_widget/dynamic_widget_970.html'}},s={'sportschatter.com':t+'://dw.synapsys.us/chatter_api.php?site=sportschatter.com','celebchatter.com':t+'://dw.synapsys.us/chatter_api.php?site=celebchatter.com','politicschatter.com':t+'://dw.synapsys.us/chatter_api.php?site=politicschatter.com','oddchatter.com':t+'://dw.synapsys.us/chatter_api.php?site=oddchatter.com'},a=t+'://w1.synapsys.us/widgets/chatterbox/chatterbox.js',o=function(){var e=top.location.host;var t=e.split('.');switch(t.length){case 0:case 1:case 2:break;default:if(t[t.length-3]=='att'&&t[t.length-2]=='yahoo'&&t[t.length-1]=='com'){e='att.yahoo.com'}else if(t[t.length-2]=='co'&&t[t.length-1]=='uk'){e=t[t.length-3]+'.'+t[t.length-2]+'.'+t[t.length-1]}else{e=t[t.length-2]+'.'+t[t.length-1]}break}return e}(),c=document.currentScript||function(){var e=document.getElementsByTagName('script');for(var t=e.length-1;t>=0;t--){if(e[t].src.indexOf(a)!=-1){return e[t]}}}(),l={},d=-1,h,u,m={dom:o,category:O('widget')===false?'nba':O('widget').toLowerCase(),remn:false,carousel:true,rand:Math.floor(Math.random()*10)},f=O('rss')===false?'sportschatter.com':O('rss'),p=function(){if(f===false||typeof s[f]=='undefined'){f=o;if(typeof s[f]==='undefined'){return s['sportschatter.com']}}return s[f]}(),g=O('small')==='yes'?true:false,w=[],y=function(){if(o.indexOf('chatter')>-1){return o}return f.split('.')[0].replace('chatter','-chatter')+'.'+o}(),v=[],b,x=false,_=false;if(g){m.category='n/a'}var E=true,A='//www.googletagmanager.com/gtm.js?id=GTM-WDG7BV&l=chatterLayer',k=document.getElementsByTagName('script');for(var C=0;C<k.length;C++){if(k[C].src.indexOf(A)!=-1){E=false}}if(E){var L=document.createElement('script');L.async=true;L.src='//www.googletagmanager.com/gtm.js?id=GTM-WDG7BV&l=chatterLayer';c.parentNode.insertBefore(L,c)}chatterLayer.push({event:'chatterboxPageView',rss:f,style:g?'3UP':'5PACK',widget:m.category});Array.prototype.randItem=function(){return this[Math.floor(Math.random()*this.length)]};Element.prototype.setAttributes=function(e){for(var t in e){if(t==='style'){for(var r in e[t]){this.style[r]=e[t][r]}}else if(t==='html'){this.innerHTML=e[t]}else if(t==='text'){this.innerText=e[t]}else{this.setAttribute(t,e[t])}}};Element.prototype.appendChildren=function(){for(var e=0;e<arguments.length;e++){if(typeof arguments[e].length!=='undefined'){for(var t=0;t<arguments[e].length;t++){this.appendChild(arguments[e][t])}}else{this.appendChild(arguments[e])}}};P();T();N();function P(){var e;if(window.XMLHttpRequest){e=new XMLHttpRequest}else{e=new ActiveXObject('Microsoft.XMLHTTP')}e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){if(e.status==200){try{v=JSON.parse(e.responseText);for(var r=0;r<w.length;r++){w[r].getElementsByTagName('a')[0].href=t+'://'+y+v[r].link;w[r].querySelectorAll('.dw_item_title')[0].innerHTML=v[r].title;w[r].querySelectorAll('.dw_item_sub')[0].innerHTML=(f.charAt(0).toUpperCase()+f.slice(1)).replace('chatter','Chatter').split('.')[0];w[r].querySelectorAll('.dw_img')[0].setAttributes({style:{'background-image':'url(\''+function(e){try{var t=JSON.parse(atob(O('o',e)))}catch(r){var t={x:.5,y:.5}}return e.replace(/o=[^&$]+/,'o='+btoa(JSON.stringify({x:t.x,y:t.y,height:240,width:400})))}(v[r].thumbnail)+'\')'}})}return true}catch(n){console.log(n);var s='Error Parsing JSON'}}else{var s=e.statusText;if(e.status==500){try{s=JSON.parse(e.responseText).message}catch(n){console.log('No JSON message')}}s='HTTP Error ('+e.status+'): '+s}if(tries++>10){throw s}setTimeout(P,500)}};e.open('GET',p,true);e.send()}function T(){var r=document.createElement('link');r.setAttributes({href:t+'://fonts.googleapis.com/css?family=Lato',rel:'stylesheet',type:'text/css'});c.parentNode.insertBefore(r,c);var n=document.createElement('link');n.setAttributes({href:t+'://w1.synapsys.us/widgets/chatterbox/chatterbox.css',rel:'stylesheet',type:'text/css'});c.parentNode.insertBefore(n,c);h=document.createElement('div');h.setAttribute('class','dw_container');if(h.addEventListener){h.addEventListener('mouseover',S)}else if(h.attachEvent){h.attachEvent('onmouseover',S)}var s=document.createElement('div');s.setAttribute('class','dw_article');b=document.createElement('div');b.setAttribute('class','dw_title');for(var a=0;a<3;a++){var i=[document.createElement('a'),document.createElement('div'),document.createElement('div'),document.createElement('div'),document.createElement('div'),document.createElement('div')];i[1].appendChild(document.createElement('div'));i[0].setAttributes({onclick:'chatterbox['+e+'].a_click('+a+')',target:'_blank'});i[1].setAttribute('class','dw_img');i[2].setAttribute('class','dw_t_cont');i[3].setAttributes({'class':'dw_item_title',text:''});i[4].setAttributes({'class':'dw_item_sub',text:''});i[5].setAttribute('class','dw_article_link');i[2].appendChildren(i[3],i[4]);i[0].appendChildren(i[1],i[2]);i[5].appendChildren(i[0]);w[a]=i[5]}s.appendChildren(b,w);if(!g){var l={dom:o,remn:false,cat:'nba',type:'dynamic_nba',subd:false,src:'content.synapsys.us/l/n/index-mdb.php',name:o.split('.').join('_')+'_sports_widget_300x250',widU:'',widW:300,widH:0,adW:300,adH:250,ofx:0,ofy:0,rand:(Math.random()*1e6).toString()+(Math.random()*1e6).toString()};var d=document.createElement('script');d.src=t+'://content.synapsys.us/l/n/index-mdb.php?'+Object.keys(l).map(function(e){return encodeURIComponent(e)+'='+encodeURIComponent(l[e])}).join('&');u=document.createElement('iframe');u.setAttributes({scrolling:'no','class':'dw_iframe'});h.appendChildren(s,d,u)}else{h.appendChild(s)}c.parentElement.insertBefore(h,c)}function S(){if(_){return true}chatterLayer.push({event:'chatterMouseover',style:g?'3UP':'5PACK',rss:f,widget:m.category});_=true;h.removeEventListener('mouseover',S)}function N(){var e=h.parentElement.clientWidth;for(var t=0;t<r.length;t++){if(e>=r[t].min){break}}if(t==d){return false}d=t;h.setAttribute('class','dw_container '+r[t].class+(g!==false?' small_container':''));b.setAttributes({html:'<svg xmlns="http://www.w3.org/2000/svg" style="stroke:#ff3131;stroke-width:2px;fill:none;width:20.57px;height:18px;" viewBox="0 0 32 28"><path stroke-linecap="round" stroke-linejoin="round" d="m 4,14 l 12,12 l 12,-12 a 6 6 0 1 0 -10 -10 l -2, 2 l -2, -2 a 6 6 0 1 0 -10 10" /></svg> '+r[t].title});M(r[t].widget)}function M(e){if(g){return false}var t={};switch(e){case 250:t=n[250];break;default:t=n[970];break}if(t!=l){u.src='about:blank';l=t;setTimeout(function(){u.src=l.url+'?'+encodeURIComponent(JSON.stringify(m))},0)}}function O(e,t){t=t||c.src;var r=new RegExp('[?&]'+e.replace(/[\[\]]/g,'\\$&')+'(=([^&#]*)|&|#|$)');var n=r.exec(t);if(!n||!n[2]){return false}return decodeURIComponent(n[2].replace(/\+/g,' '))}function H(e){if(typeof v[e]=='undefined'){return true}chatterLayer.push({event:'chatter_click',style:g?'3UP':'5PACK',rss:f,widget:m.category});chatterLayer.push({event:'article_click',article_url:f+v[e].link,article_title:v[e].title,style:g?'3UP':'5PACK'})}function U(){if(x){return true}var e={x:window.scrollX,y:window.scrollY,w:window.innerWidth,h:window.innerHeight},t={x:h.offsetLeft,y:h.offsetTop,w:h.offsetWidth,h:h.offsetHeight},r=t.w*t.h,n=B(e.x,e.w,t.x,t.w),s=B(e.y,e.h,t.y,t.h);dispArea=n*s,dispPerc=dispArea/r;if(dispPerc>=.6){x=true;chatterLayer.push({event:'chatterVisible',style:g?'3UP':'5PACK',rss:f,widget:m.category});for(C=0;C<v.length;C++){chatterLayer.push({event:'chatterboxImpression',article_url:f+v[i].link,style:g?'3UP':'5PACK',article_title:v[i].title})}window.removeEventListener('scroll',U)}}function B(e,t,r,n){if(e+t<r||e>r+n){return 0}if(e>r&&e+t<r+n||e<r&&e+t>r+n){return n}if(e>r){return r+n-e}if(r+n>e+t){return e+t-r}return 0}if(h.parentElement.addEventListener){window.addEventListener('resize',N,false);window.addEventListener('scroll',U,false)}else if(h.parentElement.attachEvent){window.attachEvent('onresize',N);window.attachEvent('onscroll',U)}return{cw:M,sc:N,a_click:H}}(chatterbox.length);
