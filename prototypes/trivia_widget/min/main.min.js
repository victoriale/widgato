function toggleDebug(){debug=!!debug}function createFriendlyIframe(){friendlyIframe=document.createElement("iframe"),friendlyIframe.className="twiframe",friendlyIframe.width="300",friendlyIframe.height=350,friendlyIframe.scrolling="no",friendlyIframe.style.overflow="hidden",friendlyIframe.name=currentScript.src,friendlyIframe.style.border="none",currentScript.parentNode.insertBefore(friendlyIframe,currentScript),friendlyIframeWindow=friendlyIframe.contentWindow,friendlyIframeWindow.document.open(),friendlyIframeWindow.document.write(htmlFile),friendlyIframeWindow.document.close(),$=function(e){return friendlyIframeWindow.document.getElementById(e)},"complete"==friendlyIframeWindow.document.readyState||"interactive"==friendlyIframeWindow.document.readyState?setupIframe():friendlyIframeWindow.document.onreadystatechange=function(){"complete"!=friendlyIframeWindow.document.readyState&&"interactive"!=friendlyIframeWindow.document.readyState||setupIframe()}}function setupIframe(){var e=currentScript.src.split("js?")[1],t=new RegExp(document.location.hostname);if(""!=e&&null!=e)try{query=JSON.parse(decodeURIComponent(e).replace(/'/g,'"'))}catch(e){console.log(e)}else(t.test("localhost")||t.test("w1.synapsys.us")||t.test("dev-w1.synapsys.us")||t.test("homestead.widgets"))&&null!=document.location.search&&""!=document.location.search&&(query=JSON.parse(decodeURIComponent(document.location.search.substr(1))));currentScript.src="about:blank";var i=friendlyIframeWindow.document.createElement("link");if(i.type="text/css",i.rel="stylesheet",null!=query.wide&&""!=query.wide){friendlyIframe.width=friendlyIframe.parentNode.clientWidth-300,friendlyIframe.height="250",window.addEventListener("resize",function(){friendlyIframe.width=friendlyIframe.parentNode.clientWidth},!0),i.href="./min/wide_styles.min.css",wideWidget=!0;var n=$("trivia_ad_zone");n.style.display="none",parent[query.pause_variable]=!1,n.appendChild(friendlyIframe.parentElement.getElementsByClassName("widget_zone")[0]),n.getElementsByClassName("widget_zone")[0].style.opacity=1,n.getElementsByClassName("widget_zone")[0].style.zIndex=50}else friendlyIframe.width=300,i.href="./min/standard_styles.min.css";friendlyIframeWindow.document.head.appendChild(i),baseEvent=query.event,baseEvent.event="widget-interaction",postObject={snt_data:baseEvent,action:"snt_tracker"},setupEnvironment(query),triviaWidget()}function getEnv(e){return e=null!=e.match(/^localhost\./)||null!=e.match(/^dev\./)?"dev":null!=e.match(/^qa\./)?"qa":"prod"}function synapsysENV(e){return e=null!=e.match(/^localhost\./)||null!=e.match(/^dev\./)?"dev-":"qa."==e.match(/^qa\./)?"qa-":""}function setupEnvironment(e){query=e,apiCallUrl=protocolToUse+apiCallUrl;var t,i=e.category,n=""==e.group?e.group=null:e.group,a=window.location.hostname.split(".")[0];t=null!=e.env?e.env?e.env:"prod":getEnv(a),imageUrl=protocolToUse+synapsysENV(a)+imageUrl,log("category:    "+i,analyticsStyles),log("group:       "+n,analyticsStyles),log("environment: "+a,analyticsStyles),log("env:         "+t,analyticsStyles),apiCallUrl+=i&&""!=i?"?category="+i:"?category="+n,log("API:         "+apiCallUrl,analyticsStyles)}function log(e,t){debug&&(t||(t=defaultStyle),console.log("%c"+e,t))}function capitalizeFirstLetter(e){return 0===["nfl","ncaaf","mlb","nba","ncaam"].indexOf(e)?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)}function widgetSetup(){1!=firstWidgetRun||"complete"!=document.readyState&&"interactive"!=document.readyState?document.onreadystatechange=function(){1!=firstWidgetRun||"complete"!=document.readyState&&"interactive"!=document.readyState||(firstWidgetRun=!1,createFriendlyIframe())}:(firstWidgetRun=!1,createFriendlyIframe())}var htmlFile="<!Doctype html><html><head><title>Trivia Widget</title><meta name='viewport' content='initial-scale=1'><link rel='shortcut icon' href=''><meta charset='UTF-8'><meta name='theme-color' content='#2d3e50 '><meta http-equiv='Content-Language' content='en'></head><body><section class='widget_container' id='snt_trivia_game'><div id='completed_overlay' class='hidden'><div class='results_container'><p class='comment heavy' id='score_comment'></p><div class='score_container'><div class='icon'><img class='check_mark' src='./images/icon-check-mark-blue.svg' alt='check mark icon'></div><div class='score'><p>You Got</p><p class='results'><span id='user_score' class='heavy'></span> <span>/</span> <span id='total_questions'></span></p></div><p class='restart light' id='restart' onclick='restartFn'><i aria-hidden='true'></i> <span class='try_again'>Try Again</span></p></div></div><div class='other_content_container'><span class='other_content_title light' id='show_others'>Other Celebrity Trivia You May Love:</span><ul class='other_content_options_container'><li class='other_content_option_container' id=''><div class='animation_container'><div class='animation_container-box'><p>{CATEGORY}</p><p>TRIVIA</p></div></div></li><li class='other_content_option_container' id=''><div class='animation_container'><div class='animation_container-box'><p>{CATEGORY}</p><p>TRIVIA</p></div></div></li><li class='other_content_option_container' id=''><div class='animation_container'><div class='animation_container-box'><p>{CATEGORY}</p><p>TRIVIA</p></div></div></li><li class='other_content_option_container random_option hidden' id=''><div class='animation_container'><i class='fa fa-random blue' aria-hidden='true'></i><div class='animation_container-box'><p>RANDOM</p><p>TRIVIA</p></div></div></li></ul></div></div><div id='trivia_container'><div id='interval_score_container'><span id='interval_score_question'></span> <span id='interval_score'></span></div><div id='submission_overlay'><div class='submission_display_container'><div class='submission_result_text_container'><div class='check_mark_container'><img class='check_mark' src='./images/icon-check-mark.svg' alt='check mark icon'> <img class='x' src='./images/icon-incorrect.svg' alt='incorrect icon'></div><p class='submission_display heavy'></p></div></div><div id='submission_overlay_image'></div></div><div class='trivia_image_container'><div id='progress_bar'></div><div class='trivia_image_overlay'><div class='trivia_image' id='pixelateContainer'><div class='trivia_image_background'></div></div></div><div class='trivia_question'><p class='heavy'>In what year did Adele win a \"Grammy Album of the Year\" for the album 25?</p></div></div><div class='trivia_options_container'><ul class='trivia_options'></ul><div class='trivia_options_container_info'><div class='left'><p class='light'><span>Question</span> <span class='acive_question heavy' id='active_question'>1</span>/ <span class='total_questions'>10</span></p></div><div class='right'><p class='light blue' id='skip_question'><span>Skip Question</span> <i class='fa fa-arrow-right' aria-hidden='true'></i></p></div></div></div><div class='submission_info_container'><p class='submission_info heavy' id='correct_result_display'></p><div class='submission_analytics_container'><div class='submission_analytics_title_container'><p class='submission_analytics_title border heavy'><i class='fa fa-bar-chart ltblue' aria-hidden='true'></i> <span class='heavy'>Analytics</span></p></div><div class='results_charts_container results_left'><div class='chart_container'><div class='results_chart c100 small green'><div class=''><span class='results_chart_value heavy'></span><div class='slice'><div class='bar'></div><div class='fill'></div></div></div></div><div class='results_chart_label'><i class='fa fa-check green' aria-hidden='true'></i> <span>Correct</span></div></div><div class='chart_container'><div class='results_chart c100 small red'><div class=''><span class='results_chart_value heavy'></span><div class='slice'><div class='bar'></div><div class='fill'></div></div></div></div><div class='results_chart_label'><i class='fa fa-times red' aria-hidden='true'></i> <span>Incorrect</span></div></div></div><div class='results_charts_container results_right'><p class='results_charts_container_intro gray upperCase heavy'>How you stack up:</p><p id='percentage_of_guess'></p></div></div><div id='next_question' class='button'></div></div><div class='trivia_container_footer'><img class='logo' src='./images/snt_logo.svg' alt='SNT Media logo'><p>Powered by SNT Media, Inc.</p></div></div><div id='trivia_ad_zone'><div id='ad_progress_bar'></div></div></section></body></html>",friendlyIframe,friendlyIframeWindow,$,wideWidget=!1,isSmall=!1,isMobile=!1,removeAd=!1,isActive=!1,timeToLive=6e5,triviaStarted=!1,swapImage=!0,debug=!1,protocolToUse="https:"==location.protocol?"https://":"http://",postUrl="//dev-pa.synapsys.us/",apiCallUrl="dev-tw-api.synapsys.us/index.php",imageUrl="images.synapsys.us",query,baseEvent,postObject,embedURL="trivia_widget/main",currentScript=null!=document.currentScript&&-1!=document.currentScript.src.indexOf(embedURL)?document.currentScript:function(){for(var e=document.getElementsByTagName("script"),t=e.length-1;t>=0;t--)if(-1!=e[t].src.indexOf(embedURL))return e[t]}(),analyticsStyles=["background: linear-gradient(#2a9a13, #000000)","border: 1px solid #3E0E02","color: white","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","text-align: center","font-weight: bold"].join(";"),payloadStyles=["background: linear-gradient(#4e028a, #000000)","border: 1px solid #3E0E02","color: white","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","text-align: center","font-weight: bold"].join(";"),defaultStyle=["background: linear-gradient(#000000, #6e6e6e)","border: 1px solid #3E0E02","color: #1fc134","text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)","text-align: center","font-weight: bold"].join(";"),triviaWidget=function(){function t(){if(window.XMLHttpRequest)var e=new XMLHttpRequest;else var e=new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE)if(200==this.status)V=JSON.parse(this.responseText),F=V.quizzes;else{var e=this.statusText;if(500==this.status)try{e=JSON.parse(this.responseText).message}catch(e){console.log("No JSON message")}e="HTTP Error ("+this.status+"): "+e}},e.open("GET",apiCallUrl,!1),e.send()}function i(e){try{h("clear"),F||t(),Be=a(),Q=e||s(Be)[0],G=F.filter(function(e){if(e.sub_category_id===Q)return e})[0],Qe=Q,Y=r(G),Re=1,xe=!1,He=0,ze=0,pe.innerHTML=ze,fe.innerHTML=Re,ye.innerHTML=$e;var i=Be;i.splice(i.indexOf(Q),1),n(i),l()}catch(e){console.warn("Data Error for Trivia",e)}}function n(e){K=null,ie=null;for(var t=0;_e.length-1>t;t++){var i=e[0];_e[t].id=i;var n=F.filter(function(e){if(e.sub_category_id===i)return e})[0],a=n.questions[0],s=a?"url("+imageUrl+a.metadata.image+"4_3.jpg)":"";be[t].style.backgroundImage=s,be[t].getElementsByTagName("p")[0].innerHTML=n.sub_category.toUpperCase(),_e[t].onclick=function(){isSmall&&wideWidget&&(removeAd=!0,L(!1),h("clear"),S()),P(postObject,5),M("send"),w(i)},e.splice(e.indexOf(i),1)}Ne.onclick=function(){isSmall&&wideWidget&&(removeAd=!0,L(!1),h("clear"),S()),P(postObject,5),M("send"),w(_())}}function a(){var e=F;return Be=[],e.forEach(function(e){Be.push(e.sub_category_id)}),Be}function s(e){var t=[];if(Array.isArray(e))t=e;else for(var i in e)t.push(e[i]);for(var n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),s=t[n];t[n]=t[a],t[a]=s}if(Array.isArray(e))return t;for(var r={},n=0;n<t.length;n++)r[n+1]=t[n];return r}function r(e){var t=e.questions;return Y=[],t.forEach(function(e,t){Y.push(e.metadata.question_id)}),$e=10*Y.length,Y}function o(e){e.offsetHeight>34&&(e.style.fontSize="10px",e.style.lineHeight="1.1")}function l(){try{ce.innerHTML="",re.className="",ve.innerHTML="<p>Next Question</p>",K=K||s(Y)[0];var e=G.questions.filter(function(e){if(e.metadata.question_id===K)return e})[0];Ke=K,triviaStarted||M("send");var t=e.metadata,i=e.answers,n=(e.analytics,e?t.correct_answer_result:"Whoops!"),a=e?"url("+imageUrl+t.image+"16_9.jpg)":"";if(de.innerHTML=t.question,Ee.innerHTML=n,swapImage&&wideWidget){var r=document.createElement("style");r.type="text/css",friendlyIframeWindow.document.getElementsByTagName("section")[0].appendChild(r),friendlyIframeWindow.document.querySelector("style").textContent='@media (max-width: 649px) {.trivia_image {background-image: url("'+imageUrl+t.image+'4_3.jpg")}}@media (min-width: 650px) {.trivia_image {background-image: url("'+imageUrl+t.image+'16_9.jpg")}}'}else swapImage&&!wideWidget&&(oe.style.backgroundImage=a);Z=s(i),wideWidget&&(le.style.height="97px"),Ce.style.display="block",We.style.display="block",me.classList.remove("no_transition"),i=Z;for(var l in i)if(i.hasOwnProperty(l)){var m,u=(Number(Object.keys(i).indexOf(l)),friendlyIframeWindow.document.createElement("li")),f=i[l],p=i[l]==t.correct_answer;u.setAttribute("class","button"),u.innerHTML="<p>"+f+"</p>",ce.appendChild(u),o(u.getElementsByTagName("p")[0]),u.onclick=p?function(){P(postObject,5),m=this.getElementsByTagName("p")[0].innerHTML,c("correct"),d(e,m),triviaStarted=!0}:function(){P(postObject,5),m=this.getElementsByTagName("p")[0].innerHTML,c("incorrect"),d(e,m),triviaStarted=!0}}ge.onclick=function(){P(postObject,5),v()},he.onclick=function(){P(postObject,5),isSmall&&wideWidget&&(removeAd=!0,L(!1),h("clear"),S()),w(Q)},wideWidget&&E(),h()}catch(e){console.warn("Error in setting trivia data",e)}}function d(e,t){var i=(e.metadata,e.answers),n=e.analytics;ee=n.correct_percentage,te=n.wrong_percentage;for(var a=0;Se.length>a;a++)switch(a){case 0:Le[a].innerHTML=ee+"%",Se[a].children[0].className="p"+ee;break;default:Le[a].innerHTML=te+"%",Se[a].children[0].className="p"+te}for(var s in i)if(t==i[s]){x(s);var r=n[s+"_percentage"];Oe.innerHTML="<b>"+r+"%</b> of people also answered:<br> <b>"+t+".</b>"}}function c(e){switch(e){case"correct":removeAd=!0,Ue=!0,m(),h("clear"),me.getElementsByTagName("p")[0].innerHTML="Correct",wideWidget&&(le.style.height="230px"),Ce.style.visibility="hidden",We.style.visibility="hidden",h("clear"),ue.classList.remove("hidden"),re.className="correct_submission",u();break;case"incorrect":removeAd=!0,Ue=!0,h("clear"),me.getElementsByTagName("p")[0].innerHTML="Incorrect",wideWidget&&(le.style.height="230px"),Ce.style.visibility="hidden",We.style.visibility="hidden",h("clear"),ue.classList.remove("hidden"),re.className="incorrect_submission",u()}}function m(){ze+=je,pe.innerHTML=ze}function u(){Re>=Ae?(ve.onclick=function(){P(postObject,5),f()},ve.innerHTML="<p>Show Results</p>"):ve.onclick=function(){P(postObject,5),ue.classList.add("hidden"),isSmall&&wideWidget&&(removeAd=!0,L(!1),h("clear"),S()),mt=0,M("send"),y()},me.classList.add("no_transition")}function v(){swapImage=!0,et=1,h("clear"),Ue=!0,Re>=Ae?(f(),ve.innerHTML="<p>Show Results</p>"):(ue.classList.add("hidden"),M("send"),y())}function f(){swapImage=!0;var e;e=ze<10?"Ouch!":ze>=10&&ze<=20?"Not Bad!":"Great Job!",Ie.innerHTML="Other "+capitalizeFirstLetter(G.category)+" Trivia You May Love:",we.innerHTML=e,Te.className="show",_()}function p(e){var t=Y.indexOf(e);t>-1&&Y.splice(t,1),Y.length>0&&(K=Y[0]?Y[0]:null)}function y(){swapImage=!0,p(K),Re++,fe.innerHTML=Re,re.className="",Re<=Ae&&l()}function w(e){h("clear"),i(e),Te.className="hidden"}function g(){je=10}function h(e){if("clear"==e)clearInterval(ie),g();else{var t=0,i=1,n=0,a=1;removeAd||I(),isSmall&&wideWidget&&0==ct&&!Ue?(We.style.visibility="hidden",Ce.style.visibility="hidden"):(We.style.visibility="visible",Ce.style.visibility="visible",ie&&clearInterval(ie),ie=setInterval(function(){if(i++,Math.floor(i/10)>=3){if(a++,n=Math.floor(a/10),We.style.width=a+"%",n>=0&&n<10&&t!=n&&(t=n,je--),qe.innerHTML="Q"+Re+" - Points : "+je,(n>=10||a>=100)&&(clearInterval(ie),!Ue&&!triviaStarted)){var e=b();T(e)}}else We.style.width=a+"%",qe.innerHTML="Q"+Re+" - Points : "+je},100))}}function _(){Ne.id=b()}function b(){var e=(Be.indexOf(Q),Be.filter(function(e){return e!==Q})),t=e[Math.floor(Math.random()*e.length)];return K=null,t}function T(e){swapImage=!0,Q=e,w()}function E(){if(document.createEvent){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e),isSmall=e.currentTarget.innerWidth<650}else{element=document.documentElement;var t=document.createEventObject();element.fireEvent("onresize",t)}}function I(){var e;"number"==typeof window.innerWidth?e=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?e=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),wideWidget&&(isSmall=e<650,isSmall||removeAd?isSmall&&!removeAd?(se.style.display="none",parent[query.pause_variable]=!1):isSmall&&removeAd&&(se.style.display="block",parent[query.pause_variable]=!0):L(!1))}function S(){setTimeout(function(){L(!0),removeAd=!1},3e3)}function L(e){if(e)h(),se.style.display="none",parent[query.pause_variable]=!1;else if(se.style.display="block",parent[query.pause_variable]=!0,isSmall)var t=1,i=setInterval(function(){t++,ke.style.width=3.334*t+"%",t>=31&&(t=1,ke.style.width=0,clearInterval(i))},100)}function N(){J(),Ge=W("useragent"),view=W("view"),B(),A(),j(),U(),z()}function W(t){try{switch(t){case"view":return Ve.utils.elementIsVisible(ae,null,!1,.5);case"useragent":return Ve.browser;default:console.warn("igloo Utility not found",e)}}catch(e){console.warn("igloo not found",e)}}function k(e){var t,i=document.createElement("iframe"),n="snt_payload_id_"+ne;i.setAttribute("id",n),i.className="report",i.width=1,i.height=1,i.scrolling="no",i.style.overflow="hidden",i.src="about:blank",i.style.border="none",friendlyIframe.parentNode.insertBefore(i,friendlyIframe),t=i.contentWindow,t.document.open(),t.document.write('<script type="text/javascript">'+q(postUrl,e)+" <\/script>"),t.document.close();var a=document.getElementById(n);"function"==typeof a.remove?a.remove():a.outerHTML=""}function q(e,t){try{if("object"==typeof t){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("POST",e,!0),i.send(JSON.stringify(t));for(var n in t)log(n+":"+t[n]+"\t\t|| "+ut[n])}}catch(e){console.warn("Product Analytics Error in Post Request",e)}}function M(e){try{jsonObject={ac:tt||0,bo:mt,cl:ct||0,eb:Ze||0,ed:Fe?Fe.getTime():0,ev:dt,mo:Ge.mobile?1:0,pa:query.event.p,pl:query.event.z?query.event.z:C(12),qi:Ke.toString(),qv:ot||0,qz:Qe,si:Je,sp:et||0,vd:Pe?Pe.getTime():0,w1:it||0,w2:nt||0,w3:at||0,zv:lt},isMobile=jsonObject.mo,"send"==e&&(k(jsonObject),jsonObject={},J())}catch(e){console.log("%cerror updating payload                                                     ","background: linear-gradient(#7a0000, #000000); border: 1px solid #3E0E02; color: white"),console.warn(e)}}function O(e,t,i,n,a){this.name=e,this.time=0,this.stopAt=i,this.timerOn=!1,this.tick=t,this.intervalTimer=function(){},this.startTime=function(){if(!this.timerOn){this.timerOn=!0;var e=this;this.intervalTimer=setInterval(function(){e.time+=e.tick,e.stopAt&&e.time>=e.stopAt&&e.pauseTime(),n&&debug&&(n.innerHTML=e.time),a&&a(e)},this.tick)}},this.pauseTime=function(){clearInterval(this.intervalTimer),this.timerOn=!1},this.resetTime=function(){this.time=0},this.getTime=function(){return this.time}}function C(e,t){t=t&&t.toLowerCase();for(var i="",n=0,a="a"==t?10:0,s="n"==t?10:62;n++<e;){var r=Math.random()*(s-a)+a<<0;i+=String.fromCharCode(r+=r>9?r<36?55:61:48)}return i}function x(e){switch(e){case"correct":tt=1;break;case"wrong_1":it=1;break;case"wrong_2":nt=1;break;case"wrong_3":at=1}}function A(){function e(e){e=e||window.event;var i;null===sessionStorage.getItem("snt_trivia_analytics")&&(i=sessionStorage.setItem("snt_trivia_analytics",JSON.stringify({before_time:null,after_time:null,session_id:null}))),i=JSON.parse(sessionStorage.getItem("snt_trivia_analytics")),this[t]?(isActive=!1,i.before_time=Date.now(),i.after_time=Date.now(),i.session_id=i.session_id?i.session_id:Je,sessionStorage.setItem("snt_trivia_analytics",JSON.stringify(i))):(isActive=!0,i.before_time=i.before_time?i.before_time:Date.now(),i.after_time=Date.now(),i.session_id=i.session_id?i.session_id:Je,sessionStorage.setItem("snt_trivia_analytics",JSON.stringify(i))),i.after_time-i.before_time>=timeToLive&&X()}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})}function R(){window.document.addEventListener("mousemove",H,!1),window.document.addEventListener("mousedown",H,!1),window.document.addEventListener("keypress",H,!1),window.document.addEventListener("DOMMouseScroll",H,!1),window.document.addEventListener("mousewheel",H,!1),window.document.addEventListener("touchstart",H,!1),window.document.addEventListener("touchmove",H,!1),window.document.addEventListener("MSPointerMove",H,!1);var e=window.document.getElementById("sessionTest");Ue&&view?(Xe.pauseTime(),Xe.resetTime()):Xe?Xe.timerOn||Xe.startTime():(Xe=new O("session",100,timeToLive,e,function(e){e.time>=e.stopAt&&(e.pauseTime(),e.resetTime(),sessionStorage.removeItem("snt_trivia_analytics"),X())}),Xe.startTime())}function H(){window.document.removeEventListener("mousemove",H,!1),window.document.removeEventListener("mousedown",H,!1),window.document.removeEventListener("keypress",H,!1),window.document.removeEventListener("DOMMouseScroll",H,!1),window.document.removeEventListener("mousewheel",H,!1),window.document.removeEventListener("touchstart",H,!1),window.document.removeEventListener("touchmove",H,!1),window.document.removeEventListener("MSPointerMove",H,!1),isActive=!0,Xe.pauseTime(),Xe.resetTime(),Ye.resetTime(),Ye.startTime(),Ue||R()}function B(){var e;null===sessionStorage.getItem("snt_trivia_analytics")&&(e=sessionStorage.setItem("snt_trivia_analytics",JSON.stringify({before_time:null,after_time:null,session_id:null}))),e=JSON.parse(sessionStorage.getItem("snt_trivia_analytics")),Je=e&&e.session_id?e.session_id:C(16),e.session_id=Je,sessionStorage.setItem("snt_trivia_analytics",JSON.stringify(e)),R()}function U(){try{var e=500,t=1e4,i=0,n=window.document.getElementById("viewTest"),a=window.document.getElementById("viewDwell");Pe=Pe||new O("view",100,null,a,function(n){if(n.time>=1e3&&rt&&ot<1&&(ot=1),Ue||Ye.timerOn||(isActive=!1),!Ue&&(R(),isActive)){Xe.resetTime(),Xe.pauseTime();0==n.time%e&&(i+=e,M("send"),i==t&&(t<=1e4?(e=1e3,t=3e4,i=0):t>1e4&&t<=3e4&&(e=5e3,t="forever",i=0)))}}),window.onscroll=function(){Pe||(Pe=new O("view",100,null,a)),view=W("view"),dt=view?1:dt,n&&(n.innerHTML="view: "+view),rt=!(!view||!Ue)||!(!view&&!rt)&&rt,view?Pe.startTime():(Pe.pauseTime(),R())},window.scrollTo(window.scrollX,window.scrollY-1),window.scrollTo(window.scrollX,window.scrollY+1)}catch(e){console.warn("ViewScroll Error",e)}}function j(){try{Ue=!1;var e=(window.document.getElementById("dwellTest"),window.document.getElementById("engageDwell")),t=window.document.getElementById("dwellLimit");Fe=new O("dwell",100,null,e),Ye=new O("dwellLimit",100,1e4,t,function(e){e.time>=e.stopAt&&Fe&&(isActive=!1,Fe.pauseTime(),Xe.resetTime(),M("send"),view||Pe.pauseTime(),Ue=!1)}),ae.onmouseover=function(){Ye.resetTime(),Ue?Ye.resetTime():(Ue=!0,rt=!0,Fe.startTime(),Ye.startTime(),Pe.timerOn||Pe.startTime(),rt&&!triviaStarted&&(h("clear"),h()),triviaStarted=!0)},window.document.addEventListener("mouseout",function(){Ye.pauseTime(),Ye.resetTime(),Ye.startTime()},!1)}catch(e){console.warn("DwellEngagement Error",e)}}function z(){ae.onclick=function(){P(postObject,5),ct++,log("total_clicks      =   "+ct)}}function D(){var e=window.document.getElementsByClassName("twiframe");e?(Ze=e.length,friendlyIframe.id=friendlyIframe.id||""==friendlyIframe.id?"trivia_id_"+Ze:friendlyIframe.id):console.warn("No widget containers found")}function J(){Pe&&(Pe.pauseTime(),Pe.resetTime(),Pe.startTime()),Fe&&Fe.resetTime(),ct=0,mt=1,et=0,tt=0,it=0,nt=0,at=0,lt=0}function P(e,t){var i=[window],n=window,a=0;t=void 0===t?10:t;try{for(;a++<t&&n!==window.top;)n=n.parent,i.push(n)}catch(e){}for(var s=0;s<i.length;s++)i[s].postMessage(e,"*")}function X(){window.top.igloo?(Ve=window.top.igloo,N(),D(),i(),clearInterval(st)):console.log("igloo not found",window.top.igloo)}var F,Y,V,G,Q,K,Z,ee,te,ie,ne=Math.floor(1e3*Math.random()),ae=$("snt_trivia_game"),se=(friendlyIframeWindow.document.getElementsByClassName("widget_container")[0],$("trivia_ad_zone")),re=$("trivia_container"),oe=friendlyIframeWindow.document.getElementsByClassName("trivia_image")[0],le=friendlyIframeWindow.document.getElementsByClassName("trivia_image_overlay")[0],de=friendlyIframeWindow.document.getElementsByClassName("trivia_question")[0].getElementsByTagName("p")[0],ce=friendlyIframeWindow.document.getElementsByClassName("trivia_options")[0],me=(friendlyIframeWindow.document.getElementsByClassName("trivia_options")[0].getElementsByTagName("li"),$("submission_overlay")),ue=friendlyIframeWindow.document.getElementsByClassName("submission_display_container")[0],ve=$("next_question"),fe=$("active_question"),pe=$("user_score"),ye=$("total_questions"),we=$("score_comment"),ge=$("skip_question"),he=$("restart"),_e=friendlyIframeWindow.document.getElementsByClassName("other_content_option_container"),be=friendlyIframeWindow.document.getElementsByClassName("animation_container"),Te=$("completed_overlay"),Ee=$("correct_result_display"),Ie=$("show_others"),Se=friendlyIframeWindow.document.getElementsByClassName("results_chart"),Le=friendlyIframeWindow.document.getElementsByClassName("results_chart_value"),Ne=friendlyIframeWindow.document.getElementsByClassName("random_option")[0],We=$("progress_bar"),ke=$("ad_progress_bar"),qe=($("interval_score"),$("interval_score_question")),Me=$("pixelateContainer"),Oe=$("percentage_of_guess"),Ce=$("interval_score_container"),xe=(Me.offsetHeight,Me.offsetWidth,window.location.href,!1),Ae=10,Re=1,He=0,Be=[],Ue=!1,je=10,ze=0,$e=100;if(window.addEventListener("resize",I),wideWidget){var De=!1;window.setInterval(function(){!isSmall||0!==ct||Ue||triviaStarted||(De?(Ce.style.visibility="hidden",We.style.visibility="hidden",L(!1),De=!1):(Ce.style.visibility="visible",We.style.visibility="visible",L(!0),De=!0))},3e3)}var Je,Pe,Xe,Fe,Ye,Ve,Ge,Qe,Ke,Ze,et,tt,it,nt,at,st,rt=!1,ot=0,lt=0,dt=0,ct=0,mt=1,ut={ac:"answered correctly - number 0||1",bo:"bounce - number == should only ever be 1, never more than due to submission on a payload level. 0||1 ",cl:"clicks - number == amount since last payload CURRENT||RESETS",eb:"total embeds - number == amount since last payload CURRENT",ed:"engage dwell - number == amount since last payload CURRENT||RESETS",ev:"embed views - number == should only ever be 1, never more than due to submission on a payload level CURRENT",mo:"mobile - boolean 0||1",pa:"partner id - number",pl:"placement id - string",qi:"question id - number",qv:"question views - number == should only ever be 1, never more than due to submission on a payload level CURRENT",qz:"qz == quiz id - number",si:"session id - string",sp:"skipped question - number 0||1",vd:"view dwell - number == amount since last payload CURRENT||RESETS",w1:"answered wrong 1 - number 0||1",w2:"answered wrong 2 - number 0||1",w3:"answered wrong 3 - number 0||1",zv:"quiz views - number == should only ever be 1, never more than due to submission on a payload level CURRENT"},vt=!0;1!=vt||"complete"!=friendlyIframeWindow.document.readyState&&"interactive"!=friendlyIframeWindow.document.readyState?friendlyIframeWindow.document.onreadystatechange=function(){1!=vt||"complete"!=friendlyIframeWindow.document.readyState&&"interactive"!=friendlyIframeWindow.document.readyState||(vt=!1,st=setInterval(X,100))}:(vt=!1,st=setInterval(X,100))},firstWidgetRun=!0;widgetSetup();