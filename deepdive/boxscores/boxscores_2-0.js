"use strict";!function(e){function t(){var e=document.createElement("base");e.target="_parent",document.head.appendChild(e);var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.dataset.resource_from="boxscores-embed",t.href="https://fonts.googleapis.com/css?family=Lato:300,400",document.head.appendChild(t);var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.dataset.resource_from="boxscores-embed",n.href=x+"://w1.synapsys.us/widgets/deepdive/fonts/styles.css",document.head.appendChild(n);var a=document.createElement("style");a.dataset.resource_from="boxscores-embed",a.innerHTML="\n      .boxscores-e-bar{\n        width: 100%;\n        min-width: 640px;\n        height: 50px;\n        line-height: 50px;\n        background-color:"+D+";\n        color: #fff;\n        font-family: Lato;\n        overflow: hidden;\n      }\n      .boxscores-e-title{\n        font-size: 18px;\n        float: left;\n        padding: 0 10px;\n        box-sizing: border-box;\n        line-height: 48px;\n      }\n      .boxscores-e-schedule{\n        list-style-type: none;\n        float: left;\n        margin: 0 5px 0 0;\n        padding: 0;\n        height: 100%;\n      }\n      .boxscores-e-game{\n        display: inline-block;\n        width: 166px;\n        height: 50px;\n        border-right: 1px solid"+z+";\n        box-sizing: border-box;\n        overflow: hidden;\n      }\n      .boxscores-e-game:last-child{\n        border-right: none;\n      }\n      .boxscores-e-game-link{\n        display: block;\n        width: 100%;\n        height: 100%;\n        padding: 0 10px;\n        box-sizing: border-box;\n        text-decoration: none;\n        color: #fff;\n      }\n      .boxscores-e-football .boxscores-e-game-link{\n        padding: 0 7px 0 10px;\n      }\n      .boxscores-e-game-link:hover{\n        color: #fff;\n      }\n      .boxscores-e-game-teams{\n        list-style-type: none;\n        margin: 0;\n        padding: 0;\n        width: 57px;\n        height: 100%;\n        line-height: normal;\n        display: inline-block;\n        vertical-align: middle;\n        font-size: 13px;\n        padding-top: 8px;\n        box-sizing: border-box;\n        float: left;\n      }\n      .boxscores-e-football .boxscores-e-game-teams{\n        width: 70px;\n      }\n      .boxscores-e-game-inning-top:before{\n        content: '';\n        width: 0;\n        height: 0;\n        border-style: solid;\n        border-width: 0 7px 9px 7px;\n        border-color: transparent transparent #fff transparent;\n        margin-right: 5px;\n        display: inline-block;\n      }\n      .boxscores-e-game-inning-bottom:before{\n        content: '';\n        width: 0;\n        height: 0;\n        border-style: solid;\n        border-width: 9px 7px 0 7px;\n        border-color: #fff transparent transparent transparent;\n        margin-right: 5px;\n        display: inline-block;\n      }\n      .boxscores-e-game-teamscore{\n        float: right;\n      }\n      .boxscores-e-game-time{\n        font-size: 12px;\n        float: right;\n        font-weight: 400;\n      }\n      .boxscores-e-game-time.boxscores-e-2-lines{\n        line-height: normal;\n        padding-top: 10px;\n      }\n      .boxscores-e-nav{\n        float: left;\n        margin-right: 5px;\n        line-height: 50px;\n      }\n      .boxscores-e-nav-button{\n        width: 30px;\n        height: 30px;\n        border-radius: 5px;\n        background-color: #fff;\n        color: "+N+";\n        border: none;\n        margin: 0 3px 0 0;\n        vertical-align: middle;\n        cursor: pointer;\n        font-size: 24px;\n        padding: 0;\n        line-height: normal;\n      }\n      .boxscores-e-nav-button>i{\n        vertical-align: middle;\n        margin-top: 1px;\n        display: inline-block;\n      }\n      .boxscores-e-nav-button:focus{\n        outline: none;\n      }\n    ",document.head.appendChild(a)}function n(){for(var e=document.getElementsByClassName("boxscores-e-schedule")[0];e.hasChildNodes();)e.removeChild(e.firstChild)}function a(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}function o(e,t,n){t||(t=250);var a,o;return function(){var s=n||this,r=+new Date,i=arguments;a&&a+t>r?(clearTimeout(o),o=setTimeout(function(){a=r,e.apply(s,i)},t+a-r)):(a=r,e.apply(s,i))}}function s(e,t,n){return e=e.sort(function(e,a){return t>0?e[n]<a[n]?-1:e[n]>a[n]?1:0:e[n]>a[n]?-1:e[n]<a[n]?1:0})}function r(e){var t=document.createElement("li"),n=e.timeClass?e.timeClass+" boxscores-e-game-time":"boxscores-e-game-time";return t.className=e.gameClass?e.gameClass+" boxscores-e-game":"boxscores-e-game",t.innerHTML='\n      <a class="boxscores-e-game-link" href="'+e.link+'">\n        <ul class="boxscores-e-game-teams">\n          <li>\n            '+e.homeTeam+' <span class="boxscores-e-game-teamscore">'+e.homeScore+"</span>\n          </li>\n          <li>\n            "+e.awayTeam+' <span class="boxscores-e-game-teamscore">'+e.awayScore+'</span>\n          </li>\n        </ul>\n        <span class="'+n+'">\n          '+e.bottomData+"\n        </span>\n      </a>\n    ",t}function i(t){var t=new Date(t+3600*e.easternTime.offset*1e3),n=t.getUTCHours(),a=n>=12?"PM":"AM";n=n>12?n-12:n;var o=t.getUTCMinutes();o=1===o.toString().length?"0"+o.toString():o;var s=n+":"+o+a+" "+e.easternTime.tzAbbrev;return s}function m(t,n){var o=[],m=[],l=[],c=[],d=[],f=function(t,n){var a=new Date(t+3600*e.easternTime.offset*1e3),o=a.getUTCDay(),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return s[o]+"<br>"+n};for(var p in t){var g=t[p],b=!1,v=new Date(g.eventStartTime+3600*e.easternTime.offset*1e3).getUTCDate(),h=(new Date).getTime();if(v==e.todayObject.date&&(b=!0),b){if("N"===g.liveStatus&&g.eventStartTime>h){var x={homeTeam:g.team1Abbreviation,homeScore:"-",awayTeam:g.team2Abbreviation,awayScore:"-",timestamp:g.eventStartTime,datetime:i(g.eventStartTime),eventId:g.eventId,gameClass:"boxscores-e-football",timeClass:"boxscores-e-2-lines"};x.bottomData=f(x.timestamp,x.datetime),"nfl"===n?x.link=u+"/nfl/articles/pregame-report/"+g.eventId:"ncaaf"===n?x.link=u+"/ncaaf/articles/pregame-report/"+g.eventId:x.link="#",x.gameNode=r(x),o.push(x)}else if("Y"===g.liveStatus&&g.eventStartTime<h){var x={homeTeam:g.team1Abbreviation,homeScore:g.team1Score?g.team1Score:"-",awayTeam:g.team2Abbreviation,awayScore:g.team2Score?g.team2Score:"-",timestamp:g.eventStartTime,datetime:i(g.eventStartTime),eventId:g.eventId,gameClass:"boxscores-e-football"};x.bottomData=g.eventQuarter?a(g.eventQuarter):x.datetime,"nfl"===n?x.link=u+"/nfl/articles/live-report/"+g.eventId:"ncaaf"===n?x.link=u+"/ncaaf/articles/live-report/"+g.eventId:x.link="#",x.gameNode=r(x),m.push(x)}else if("N"===g.liveStatus&&g.eventStartTime<h){var x={homeTeam:g.team1Abbreviation,homeScore:"-",awayTeam:g.team2Abbreviation,awayScore:"-",timestamp:g.eventStartTime,datetime:i(g.eventStartTime),eventId:g.eventId,gameClass:"boxscores-e-football",timeClass:"boxscores-e-2-lines"};x.bottomData=f(x.timestamp,"Final"),"nfl"===n?x.link=u+"/nfl/articles/postgame-report/"+g.eventId:"ncaaf"===n?x.link=u+"/ncaaf/articles/postgame-report/"+g.eventId:x.link="#",x.gameNode=r(x),l.push(x)}}else if(g.eventStartTime>h){var x={homeTeam:g.team1Abbreviation,homeScore:"-",awayTeam:g.team2Abbreviation,awayScore:"-",timestamp:g.eventStartTime,datetime:i(g.eventStartTime),eventId:g.eventId,gameClass:"boxscores-e-football",timeClass:"boxscores-e-2-lines"};x.bottomData=f(x.timestamp,x.datetime),"nfl"===n?x.link=u+"/nfl/articles/pregame-report/"+g.eventId:"ncaaf"===n?x.link=u+"/ncaaf/articles/pregame-report/"+g.eventId:x.link="#",x.gameNode=r(x),c.push(x)}else if(g.eventStartTime<h){var x={homeTeam:g.team1Abbreviation,homeScore:g.team1Score?g.team1Score:"-",awayTeam:g.team2Abbreviation,awayScore:g.team2Score?g.team2Score:"-",timestamp:g.eventStartTime,datetime:i(g.eventStartTime),eventId:g.eventId,gameClass:"boxscores-e-football",timeClass:"boxscores-e-2-lines"};x.bottomData=f(x.timestamp,"Final"),"nfl"===n?x.link=u+"/nfl/articles/postgame-report/"+g.eventId:"ncaaf"===n?x.link=u+"/ncaaf/articles/postgame-report/"+g.eventId:x.link="#",x.gameNode=r(x),d.push(x)}}o=s(o,1,"timestamp"),m=s(m,1,"timestamp"),l=s(l,1,"timestamp"),c=s(c,1,"timestamp"),d=s(d,1,"timestamp");var y=m.concat(o,l,c,d);return y}function l(t){var n=[],o=[],m=[];for(var l in t){var c=t[l],d=!1,f=new Date(c.gameInfo.startDateTimestamp+3600*e.easternTime.offset*1e3).getUTCDate();if(f==e.todayObject.date?d=!0:c.gameInfo.live&&(d=!0),d)switch(c.gameInfo.eventStatus){case"pre-event":if(c.gameInfo.live===!1){var p={homeTeam:c.homeTeamInfo.abbreviation,homeScore:"-",awayTeam:c.awayTeamInfo.abbreviation,awayScore:"-",timestamp:c.gameInfo.startDateTimestamp,datetime:i(c.gameInfo.startDateTimestamp),eventStatus:c.gameInfo.eventStatus,eventId:c.gameInfo.eventId,gameClass:"boxscores-e-baseball"};p.bottomData=p.datetime,p.link=u+"/articles/pregame-report/"+p.eventId,p.gameNode=r(p),n.push(p)}else{var p={homeTeam:c.homeTeamInfo.abbreviation,homeScore:c.homeTeamInfo.score,awayTeam:c.awayTeamInfo.abbreviation,awayScore:c.awayTeamInfo.score,timestamp:c.gameInfo.startDateTimestamp,datetime:i(c.gameInfo.startDateTimestamp),eventStatus:c.gameInfo.eventStatus,eventId:c.gameInfo.eventId,gameClass:"boxscores-e-baseball"};"top"===c.gameInfo.inningHalf?p.bottomData='<i class="boxscores-e-game-inning-top"></i>'+(c.gameInfo.inningsPlayed?a(c.gameInfo.inningsPlayed):p.datetime):"bottom"===c.gameInfo.inningHalf?p.bottomData='<i class="boxscores-e-game-inning-bottom"></i>'+(c.gameInfo.inningsPlayed?a(c.gameInfo.inningsPlayed):p.datetime):p.bottomData="",c.gameInfo.inningsPlayed<=3?p.link=u+"/articles/pregame-report/"+p.eventId:c.gameInfo.inningsPlayed>3&&c.gameInfo.inningsPlayed<=5?p.link=u+"/articles/third-inning-report/"+p.eventId:c.gameInfo.inningsPlayed>5&&c.gameInfo.inningsPlayed<=7?p.link=u+"/articles/fifth-inning-report/"+p.eventId:c.gameInfo.inningsPlayed>7&&(p.link=u+"/articles/seventh-inning-report/"+p.eventId),p.gameNode=r(p),o.push(p)}break;case"post-event":var p={homeTeam:c.homeTeamInfo.abbreviation,homeScore:c.homeTeamInfo.score,awayTeam:c.awayTeamInfo.abbreviation,awayScore:c.awayTeamInfo.score,timestamp:c.gameInfo.startDateTimestamp,datetime:i(c.gameInfo.startDateTimestamp),eventStatus:c.gameInfo.eventStatus,eventId:c.gameInfo.eventId,gameClass:"boxscores-e-baseball"};p.bottomData="Final",p.link=u+"/articles/postgame-report/"+p.eventId,p.gameNode=r(p),m.push(p)}}n=s(n,1,"timestamp"),o=s(o,1,"timestamp"),m=s(m,1,"timestamp");var g=o.concat(n,m);return g}e.embedSource="http://w1.synapsys.us/widgets/deepdive/boxscores/boxscores_2-0.js",e.boxscoresLoaded=!1,e.help=function(){console.warn("Boxscores Bar - Must specify query string.\n      Paramters:\n      [vertical] - vertical of the boxscores embed. Options are (mlb, nfl, and ncaaf)\n    ")},e.easternTime=function(){var e,t,n,a,o=(new Date).getUTCFullYear(),s=(new Date).getTime();for(e=new Date(o,2,7,0,0,0,0),e.setDate(7+(7-e.getDay())),e.setUTCHours(7),e=e.getTime(),t=new Date(o,10,1,0,0,0,0);0!==t.getDay();)t.setDate(t.getDate()+1);return t.setUTCHours(6),t=t.getTime(),e>=s||s>t?(n=-5,a="ET"):(n=-4,a="ET"),{offset:n,tzAbbrev:a}}(),e.todayObject=function(e){var t=new Date((new Date).getTime()+3600*e*1e3),n=t.getUTCMonth()+1,a=t.getUTCDate(),o={today:t,year:t.getUTCFullYear(),month:1===n.toString().length?"0"+n:n,date:1===a.toString().length?"0"+a:a};return o.dateInput=o.year+"-"+o.month+"-"+o.date,o}(e.easternTime.offset);var c=window;try{for(;c!==top;)c=c.parent}catch(d){console.error("boxscores - couldn/'t access the top window")}var f,p,g,b,v,h=c.location,u=h.hostname.replace(/www./,""),x="https"===c.protocol?"https":"http",y=[],T=document.currentScript||function(){for(var e=document.getElementsByTagName("script"),t=e.length-1;t>=0;t--)if(-1!=e[t].src.indexOf(skyscraperRails.embedSource))return e[t]}();f=T.parentNode;var w=T.src.split("?")[1];if("undefined"==typeof w)return e.help(),!1;var I,S=w.split("&");S.forEach(function(e){var t=e.split("=");switch(t[0]){case"vertical":I=decodeURIComponent(t[1])}});try{if("undefined"==typeof I)throw"Must speicify vertical of boxscores bar. (Options are mlb, nfl, and ncaaf)"}catch(d){return console.warn("Boxscores Bar - "+d),!1}var C,k,D,N,E,z,B;switch(I){case"mlb":C=x+"://prod-homerunloyal-api.synapsys.us/league/boxScores/"+e.todayObject.dateInput,k=["myhomerunzone.com","dev.myhomerunzone.com","qa.myhomerunzone.com"],D="#004e87",N="#000",E="TODAY'S MLB GAMES",z="#2c2c2c",B=function(e){return l(e)};break;case"nfl":C=x+"://dev-touchdownloyal-api.synapsys.us/boxScores/league/nfl/"+e.todayObject.dateInput,k=["mytouchdownzone.com","dev.mytouchdownzone.com","qa.mytouchdownzone.com"],D="#272727",N="#44b244",E="NFL THIS WEEK",z="#000",B=function(e){return m(e,"nfl")};break;case"ncaaf":C=x+"://dev-touchdownloyal-api.synapsys.us/boxScores/league/fbs/"+e.todayObject.dateInput,k=["mytouchdownzone.com","dev.mytouchdownzone.com","qa.mytouchdownzone.com"],D="#272727",N="#44b244",E="NCAAF THIS WEEK",z="#000",B=function(e){return m(e,"ncaaf")};break;default:C=x+"://prod-homerunloyal-api.synapsys.us/league/boxScores/"+e.todayObject.dateInput,k=["myhomerunzone.com","dev.myhomerunzone.com","qa.myhomerunzone.com"],D="#004e87",N="#000",E="TODAY'S MLB GAMES",z="#2c2c2c",B=function(){return l(data)}}for(var A=!1,M=0,L=k.length;L>M;M++)if(k[M]===u){A=!0;break}if(A){var O=h.pathname.split("/"),P=O[1];u+="/"+P}u=x+"://"+u,e.resize=function(){if(p=f.offsetWidth,e.boxscoresLoaded)if(p>=1170&&5!==g){g=5,n();var t=g-y.length;if(t>0){for(var a=0;t>a;a++){var o=y[y.length-1];y.push(o+1>=b?0:o+1)}for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}}else if(1170>p&&p>=1010&&4!==g){g=4,n();var t=g-y.length;if(t>0){for(var a=0;t>a;a++){var o=y[y.length-1];y.push(o+1>=b?0:o+1)}for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}else{t=Math.abs(t);for(var a=0;t>a;a++)y.pop();for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}}else if(1010>p&&p>=820&&3!==g){g=3,n();var t=g-y.length;if(t>0){for(var a=0;t>a;a++){var o=y[y.length-1];y.push(o+1>=b?0:o+1)}for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}else{t=Math.abs(t);for(var a=0;t>a;a++)y.pop();for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}}else if(820>p&&2!==g){g=2,n();var t=g-y.length;if(t>0);else{t=Math.abs(t);for(var a=0;t>a;a++)y.pop();for(var s=0,r=y.length;r>s;s++){var i=y[s],m=document.getElementsByClassName("boxscores-e-schedule")[0];m.appendChild(v[i].gameNode)}}}},e.buildBoxscores=function(){if(e.boxscoresLoaded)return!1;var t=document.createElement("section");t.className="boxscores-e-bar",t.innerHTML='\n      <div class="boxscores-e-title">\n        '+E+'\n      </div>\n\n      <ul class="boxscores-e-schedule"></ul>\n\n      <div class="boxscores-e-nav">\n        <button id="boxscores-e-left" class="boxscores-e-nav-button boxscores-e-prev">\n          <i class="ddh-icon-angle-left"></i>\n        </button>\n        <button id="boxscores-e-right" class="boxscores-e-nav-button boxscores-e-next">\n          <i class="ddh-icon-angle-right"></i>\n        </button>\n      </div>\n    ';var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var o=JSON.parse(a.responseText);if(v=B(o.data),b=v.length,f.insertBefore(t,T),1>=b){var s=document.getElementsByClassName("boxscores-e-nav")[0];s.parentNode.removeChild(s)}p=f.offsetWidth,g=p>=1340?5:p>=1180?4:p>=990?3:2;for(var r=0;g>r;r++)"undefined"!=typeof v[r]&&y.push(r);for(var i=0,m=y.length;m>i;i++){var l=y[i],c=document.getElementsByClassName("boxscores-e-schedule")[0];c.appendChild(v[l].gameNode)}var d=document.getElementById("boxscores-e-right");d.addEventListener("click",function(){n();for(var e=0;g>e;e++){var t=y[e]+g;t>=b&&(t-=b),"undefined"!=typeof v[t]&&(y[e]=t)}for(var a=0,o=y.length;o>a;a++){var s=y[a],r=document.getElementsByClassName("boxscores-e-schedule")[0];r.appendChild(v[s].gameNode)}});var h=document.getElementById("boxscores-e-left");h.addEventListener("click",function(){n();for(var e=0;g>e;e++){var t=y[e]-g;0>t&&(t+=b),"undefined"!=typeof v[t]&&(y[e]=t)}for(var a=0,o=y.length;o>a;a++){var s=y[a],r=document.getElementsByClassName("boxscores-e-schedule")[0];r.appendChild(v[s].gameNode)}}),e.boxscoresLoaded=!0}else 4===a.readyState&&200!==a.status},a.open("GET",C,!0),a.send()},t(),e.buildBoxscores(),window.addEventListener("resize",o(e.resize,100))}(window.boxscoresBar=window.boxscoresBar||{});
