var gameover=function(e){};gameover.prototype={init:function(e,t,i,o){this.endScore=e,this.endHighScore=t,this.endPidgeonKillCount=i,this.endPidgeonHighKillCount=o},create:function(){var e=localStorage.getItem("highscores");if(e)var t=JSON.parse(e);if(!t)var t=new Array;t.push({highScore:this.endScore}),t.sort(function(e,t){return t.highScore-e.highScore});var i=new Array;for(h=0;h<t.length;h++)t[h+1]&&t[h].highScore===t[h+1].highScore||i.push({highScore:t[h].highScore});t=i,localStorage.setItem("highscores",JSON.stringify(t));var o=new Array;o[1]=t[0]?t[0].highScore:0,o[2]=t[1]?t[1].highScore:0,o[3]=t[2]?t[2].highScore:0,o[4]=t[3]?t[3].highScore:0,o[5]=t[4]?t[4].highScore:0,this.interfaceBackground=game.add.sprite(0,25,"ui-bg"),this.interfaceBackground.scale.setTo(1,15),this.interfaceBackground.alpha=.8,this.scoreText1=game.add.text(150,55,"GAME OVER",{font:"bold 24px Lato",fill:"#ff0000",align:"center"}),this.scoreText1.anchor.setTo(.5,.5),this.scoreText2=game.add.text(150,100,"SCORE: "+this.endScore,{font:"32px Lato",fill:"#ffffff",align:"center"}),this.scoreText2.anchor.setTo(.5,.5),this.gotNewHighScore=!1;for(var h=1;h<=5;h++)o[h]===this.endScore&&this.endScore>0&&(this.gotNewHighScore=!0,this.highScoreSprite=game.add.sprite(70,138,"trophy"),this.highScoreSprite.anchor.setTo(.5,.5),this.scoreText3=game.add.text(80,142,"NEW HIGH SCORE!",{font:"bold 16px Lato",fill:"#c9aa02",align:"center"}),this.scoreText3.anchor.setTo(0,.5));this.highScoreList=game.add.text(150,175,"ALL TIME HIGH SCORES",{font:"16px Lato",fill:"#ffffff",align:"center"}),this.highScoreList.anchor.setTo(.5,.5),this.highScoreList1=game.add.text(150,200,"1. "+o[1],{font:"16px Lato",fill:"#ffffff",align:"left"}),this.highScoreList1.anchor.setTo(.5,.5),o[1]===this.endScore&&this.endScore>0&&this.highScoreList1.addColor("#c9aa02",0),this.highScoreList2=game.add.text(150,222,"2. "+o[2],{font:"16px Lato",fill:"#ffffff",align:"left"}),this.highScoreList2.anchor.setTo(.5,.5),o[2]===this.endScore&&this.endScore>0&&this.highScoreList2.addColor("#c9aa02",0),this.highScoreList3=game.add.text(150,242,"3. "+o[3],{font:"16px Lato",fill:"#ffffff",align:"left"}),this.highScoreList3.anchor.setTo(.5,.5),o[3]===this.endScore&&this.endScore>0&&this.highScoreList3.addColor("#c9aa02",0),this.highScoreList4=game.add.text(150,262,"4. "+o[4],{font:"16px Lato",fill:"#ffffff",align:"left"}),this.highScoreList4.anchor.setTo(.5,.5),o[4]===this.endScore&&this.endScore>0&&this.highScoreList4.addColor("#c9aa02",0),this.highScoreList5=game.add.text(150,282,"5. "+o[5],{font:"16px Lato",fill:"#ffffff",align:"left"}),this.highScoreList5.anchor.setTo(.5,.5),o[5]===this.endScore&&this.endScore>0&&this.highScoreList5.addColor("#c9aa02",0),this.playButton=this.game.add.button(150,game.world.height-25,"playagain-button",this.playTheGame,this),this.playButton.anchor.setTo(.5,.5)},update:function(){!0===this.gotNewHighScore&&(shootFeatherFireworks=game.rnd.integerInRange(0,100),shootFeatherFireworks<=1&&(fireworkX=game.rnd.integerInRange(25,275),fireworkY=game.rnd.integerInRange(25,275),emitter=game.add.emitter(fireworkX,fireworkY,25),emitter.makeParticles("icon-feather"),emitter.maxParticleScale=.4,emitter.minParticleScale=.2,emitter.start(!0,8e3,null,25),emitter.forEach(function(e){e.tint=16777215*Math.random(),e.alpha=.6})))},playTheGame:function(){this.playButton.destroy(),this.interfaceBackground.kill(),this.game.state.start("GameLoop",!0,!1,this.endHighScore,this.endPidgeonHighKillCount)}};