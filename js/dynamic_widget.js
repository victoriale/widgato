dynamic_widget=function(){var e=location.protocol=='https:'?'https':'http',t=e+'://dw.synapsys.us/list_api.php',r=0,i={},l=JSON.parse(decodeURIComponent(location.search.substr(1))),n=0,a=['finance','nba','college_basketball','weather','crime','demographics','politics','disaster'],s=['finance','nba','college_basketball'];function o(e){if(d.readyState=='complete'||d.readyState=='interactive'){e()}else if(d.addEventListener){d.addEventListener('DOMContentLoaded',e)}else if(d.attachEvent){d.attachEvent('onreadystatechange',function(){if(d.readyState=='complete'){e()}})}}function c(){if(typeof l.category=='undefined'||a.indexOf(l.category)==-1){l.category='finance'}var e=typeof l.rand!='undefined'&&n==0?l.rand:Math.floor(Math.random()*10);var r;if(window.XMLHttpRequest){r=new XMLHttpRequest}else{r=new ActiveXObject('Microsoft.XMLHTTP')}r.onreadystatechange=function(){if(r.readyState==XMLHttpRequest.DONE){if(r.status==200){i=JSON.parse(r.responseText);o(u)}else{var e=r.statusText;if(r.status==500){try{e=JSON.parse(r.responseText).message}catch(t){console.log('No JSON message')}}e='HTTP Error ('+r.status+'): '+e;if(n++>10){throw e}setTimeout(c,500)}}};r.open('GET',t+'?partner='+(typeof l.dom!='undefined'?l.dom:'')+'&cat='+l.category+'&rand='+e,true);r.send()}function u(){if(typeof dataLayer!='undefined'){dataLayer.push({event:'widget-title',eventAction:dynamic_widget.get_title()})}if(l.category=='politics'){var e=i.l_title.indexOf('Republican')!=-1?'r':i.l_title.indexOf('Independent')!=-1?'i':'d';add_css_link('../css/dynamic_widget_politics_'+e+'.css')}$('title').innerHTML=i.l_title;if($('line4')!=null&&d.getElementsByClassName('dw')[0].clientWidth==350&&$('title').scrollHeight>61){$('title').setAttribute('style','font-size: 14px')}var t=true;switch(l.category){case'nba':var r=l.remn=='true'?'http://www.hoopsloyal.com/NBA/widget-list':'http://www.myhoopszone.com/'+l.dom+'/NBA/w-list';break;case'college_basketball':var r=l.remn=='true'?'http://www.hoopsloyal.com/NCAA/widget-list':'http://www.myhoopszone.com/'+l.dom+'/NCAA/w-list';break;case'finance':var r=l.remn=='true'?'http://www.investkit.com/widget-list':'http://www.myinvestkit.com/'+l.dom+'/w-list';break;default:var r=l.remn=='true'?'http://www.joyfulhome.com/wlist':'http://www.myhousekit.com/'+l.dom+'/wlist';var t=false}r+=t?'?tw='+i.l_param+'&sw='+i.l_sort+'&input='+i.l_input:'/tw-'+i.l_param+'+sw-'+i.l_sort+'+input-'+i.l_input;if($('list-link')){$('list-link').href=r}m()}function m(){var e=i.l_data[r];e.li_url=e.li_subimg!==false&&e.li_subimg.switch?l.remn=='true'?e.li_subimg.primary_url:e.li_subimg.partner_url.replace('{partner}',l.dom):l.remn=='true'?e.li_primary_url:e.li_partner_url.replace('{partner}',l.dom);e.li_line_url=l.remn=='true'?e.li_primary_url:e.li_partner_url.replace('{partner}',l.dom);$('line1').innerHTML=e.li_title;$('line2').innerHTML=e.li_sub_txt;if($('line4')==null){$('desc').innerHTML=e.li_str}else{$('desc').innerHTML=e.li_value;$('line4').innerHTML=e.li_tag}$('line1').href=e.li_line_url;var t=$('mainimg');var n=t.getAttribute('onerror');t.setAttribute('onerror','');t.setAttribute('src','');t.setAttribute('src',e.li_img);setTimeout(function(e,t){t.setAttribute('onerror',e)}.bind(undefined,n,t),0);$('mainurl').href=e.li_url;$('num').innerHTML='#'+e.li_rank;if(e.li_subimg!==false){var a=e.li_subimg.switch?l.remn=='true'?e.li_primary_url:e.li_partner_url.replace('{partner}',l.dom):l.remn=='true'?e.li_subimg.primary_url:e.li_subimg.partner_url.replace('{partner}',l.dom);var s=$('subimg');var n=s.getAttribute('onerror');s.setAttribute('onerror','');s.setAttribute('src','');s.setAttribute('src',e.li_subimg.img);setTimeout(function(e,t){t.setAttribute('onerror',e)}.bind(null,n,s),0);$('suburl').href=a;var o=$('carousel');if(o.className.indexOf('two')==-1){o.className+=' two'}}if($('list-link')){var c=d.getElementsByClassName('dw-btn')[0];if(c.offsetTop+c.scrollHeight>d.getElementsByClassName('dw')[0].clientHeight){$('title').setAttribute('style','font-size: 14px');if(d.getElementsByClassName('dw')[0].clientHeight<=250){$('title').setAttribute('style','font-size: 12px')}}if(c.offsetTop+c.scrollHeight>d.getElementsByClassName('dw')[0].clientHeight-10&&d.getElementsByClassName('dw')[0].clientHeight<=250){d.getElementsByClassName('dw-btn')[0].setAttribute('style','margin-top: 0')}}var u=$('title');if(u.offsetTop+u.scrollHeight>$('carousel').offsetTop){$('title').setAttribute('style','font-size: 14px')}}function p(e){r+=e;r=r>=i.l_data.length?0:r<0?i.l_data.length-1:r;m();if(typeof dataLayer!='undefined'){dataLayer.push({event:e==1?'nav-right':'nav-left',eventAction:dynamic_widget.get_title()})}}function f(){return l.dom+':'+l.category+':'+(i.l_sort==null?i.l_param:i.l_sort)+':'+i.l_title}function w(){if(l.carousel==true){var e=d.getElementsByTagName('a');for(var t=0;t<e.length;t++){e[t].setAttribute('onclick','event.preventDefault(); return false;')}var r=d.querySelectorAll('.hover');for(var t=0;t<r.length;t++){r[t].parentNode.removeChild(r[t])}$('list-link').parentNode.removeChild($('list-link'));return false}switch(l.category){case'finance':var i=l.remn=='true'?'http://www.investkit.com/':'http://www.myinvestkit.com/'+l.dom+'/';break;case'nba':var i=l.remn=='true'?'http://www.hoopsloyal.com/NBA':'http://www.myhoopszone.com/'+l.dom+'/NBA';break;case'college_basketball':var i=l.remn=='true'?'http://www.hoopsloyal.com/NCAA':'http://www.myhoopszone.com/'+l.dom+'/NCAA';break;default:var i=l.remn=='true'?'http://www.joyfulhome.com/':'http://www.myhousekit.com/'+l.dom+'/loc/';break}$('homelink').href=i}c();o(w);return{carousel:p,get_title:f}}();
