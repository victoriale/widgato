dynamic_widget=function(){var t=location.protocol=='https:'?'https':'http',e=t+'://dw.synapsys.us/list_api.php',i=0,r={},n=JSON.parse(decodeURIComponent(location.search.substr(1))),a=0,l=['finance','nba','college_basketball','weather','crime','demographics','politics','disaster'],o=['finance','nba','college_basketball'];function s(t){if(d.readyState=='complete'||d.readyState=='interactive'){t()}else if(d.addEventListener){d.addEventListener('DOMContentLoaded',t)}else if(d.attachEvent){d.attachEvent('onreadystatechange',function(){if(d.readyState=='complete'){t()}})}}function c(){if(typeof n.category=='undefined'||l.indexOf(n.category)==-1){n.category='finance'}var t=typeof n.rand!='undefined'&&a==0?n.rand:Math.floor(Math.random()*10);var i;if(window.XMLHttpRequest){i=new XMLHttpRequest}else{i=new ActiveXObject('Microsoft.XMLHTTP')}i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE){if(i.status==200){r=JSON.parse(i.responseText);s(u)}else{var t=i.statusText;if(i.status==500){try{t=JSON.parse(i.responseText).message}catch(e){console.log('No JSON message')}}t='HTTP Error ('+i.status+'): '+t;if(a++>10){throw t}setTimeout(c,500)}}};i.open('GET',e+'?partner='+(typeof n.dom!='undefined'?n.dom:'')+'&cat='+n.category+'&rand='+t,true);i.send()}function u(){if(typeof dataLayer!='undefined'){dataLayer.push({event:'widget-title',eventAction:dynamic_widget.get_title()})}if(n.category=='politics'){var t=r.l_title.indexOf('Republican')!=-1?'r':r.l_title.indexOf('Independent')!=-1?'i':'d';add_css_link('../css/dynamic_widget_politics_'+t+'.css')}$('title').innerHTML=r.l_title;if($('line4')!=null&&d.getElementsByClassName('dw')[0].clientWidth==350&&$('title').scrollHeight>61){$('title').setAttribute('style','font-size: 14px')}var e=true;switch(n.category){case'nba':var i=n.remn=='true'?'http://www.hoopsloyal.com/NBA/widget-list':'http://www.myhoopszone.com/'+n.dom+'/NBA/w-list';break;case'college_basketball':var i=n.remn=='true'?'http://www.hoopsloyal.com/NCAA/widget-list':'http://www.myhoopszone.com/'+n.dom+'/NCAA/w-list';break;case'finance':var i=n.remn=='true'?'http://www.investkit.com/widget-list':'http://www.myinvestkit.com/'+n.dom+'/w-list';break;default:var i=n.remn=='true'?'http://www.joyfulhome.com/wlist':'http://www.myhousekit.com/'+n.dom+'/wlist';var e=false}i+=e?'?tw='+r.l_param+'&sw='+r.l_sort+'&input='+r.l_input:'/tw-'+r.l_param+'+sw-'+r.l_sort+'+input-'+r.l_input;if($('list-link')){$('list-link').href=i}m()}function m(){var t=r.l_data[i];t.li_url=n.remn=='true'?t.li_primary_url:t.li_partner_url.replace('{partner}',n.dom);$('line1').innerHTML=t.li_title;$('line2').innerHTML=t.li_sub_txt;if($('line4')==null){$('desc').innerHTML=t.li_str}else{$('desc').innerHTML=t.li_value;$('line4').innerHTML=t.li_tag}$('line1').href=t.li_url;var e=$('mainimg');var a=e.getAttribute('onerror');e.setAttribute('onerror','');e.setAttribute('src','');e.setAttribute('src',t.li_img);setTimeout(function(t,e){e.setAttribute('onerror',t)}.bind(undefined,a,e),0);$('mainurl').href=t.li_url;$('num').innerHTML='#'+t.li_rank;if(t.li_subimg!==false){var l=n.remn=='true'?t.li_subimg.primary_url:t.li_subimg.partner_url.replace('{partner}',n.dom);var o=$('subimg');var a=o.getAttribute('onerror');o.setAttribute('onerror','');o.setAttribute('src','');o.setAttribute('src',t.li_subimg.img);setTimeout(function(t,e){e.setAttribute('onerror',t)}.bind(undefined,a,o),0);$('suburl').href=l;var s=$('carousel');if(s.className.indexOf('two')==-1){s.className+=' two'}}if($('list-link')){var c=$('list-link');if(c.offsetTop+c.scrollHeight>d.getElementsByClassName('dw')[0].clientHeight){$('title').setAttribute('style','font-size: 14px')}}var u=$('title');if(u.offsetTop+u.scrollHeight>$('carousel').offsetTop){$('title').setAttribute('style','font-size: 14px')}}function f(t){i+=t;i=i>=r.l_data.length?0:i<0?r.l_data.length-1:i;m();if(typeof dataLayer!='undefined'){dataLayer.push({event:t==1?'nav-right':'nav-left',eventAction:dynamic_widget.get_title()})}}function p(){return n.dom+':'+n.category+':'+(r.l_sort==null?r.l_param:r.l_sort)+':'+r.l_title}function w(){if(n.carousel==true){var t=d.getElementsByTagName('a');for(var e=0;e<t.length;e++){t[e].setAttribute('onclick','event.preventDefault(); return false;')}var i=d.querySelectorAll('.hover');for(var e=0;e<i.length;e++){i[e].parentNode.removeChild(i[e])}$('list-link').parentNode.removeChild($('list-link'));return false}switch(n.category){case'finance':var r=n.remn=='true'?'http://www.investkit.com/':'http://www.myinvestkit.com/'+n.dom+'/';break;case'nba':var r=n.remn=='true'?'http://www.hoopsloyal.com/NBA':'http://www.myhoopszone.com/'+n.dom+'/NBA';break;case'college_basketball':var r=n.remn=='true'?'http://www.hoopsloyal.com/NCAA':'http://www.myhoopszone.com/'+n.dom+'/NCAA';break;default:var r=n.remn=='true'?'http://www.joyfulhome.com/':'http://www.myhousekit.com/'+n.dom+'/loc/';break}$('homelink').href=r}c();s(w);return{carousel:f,get_title:p}}();
